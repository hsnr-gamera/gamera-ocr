<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.20.1: https://docutils.sourceforge.io/" />
<title>ExternalLibraries</title>
<link rel="stylesheet" href="default.css" type="text/css" />
</head>
<body>
<div class="document" id="externallibraries">
<h1 class="title">ExternalLibraries</h1>

<p><strong>Last modified</strong>: July 11, 2023</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#numpy" id="toc-entry-1">Numpy</a><ul>
<li><a class="reference internal" href="#from-numpy" id="toc-entry-2"><tt class="docutils literal">from_numpy</tt></a></li>
<li><a class="reference internal" href="#to-numpy" id="toc-entry-3"><tt class="docutils literal">to_numpy</tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#pil" id="toc-entry-4">PIL</a><ul>
<li><a class="reference internal" href="#from-pil" id="toc-entry-5"><tt class="docutils literal">from_pil</tt></a></li>
<li><a class="reference internal" href="#to-pil" id="toc-entry-6"><tt class="docutils literal">to_pil</tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#from-raw-string" id="toc-entry-7"><tt class="docutils literal">_from_raw_string</tt></a></li>
<li><a class="reference internal" href="#to-raw-string" id="toc-entry-8"><tt class="docutils literal">_to_raw_string</tt></a></li>
<li><a class="reference internal" href="#cv" id="toc-entry-9">cv</a><ul>
<li><a class="reference internal" href="#from-cv" id="toc-entry-10"><tt class="docutils literal">from_cv</tt></a></li>
<li><a class="reference internal" href="#to-cv" id="toc-entry-11"><tt class="docutils literal">to_cv</tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#to-buffer" id="toc-entry-12"><tt class="docutils literal">to_buffer</tt></a></li>
</ul>
</div>
<div class="section" id="numpy">
<h1><a class="toc-backref" href="#toc-entry-1">Numpy</a></h1>
<div class="section" id="from-numpy">
<h2><a class="toc-backref" href="#toc-entry-2"><tt class="docutils literal">from_numpy</tt></a></h2>
<p><tt class="docutils literal">Image</tt> [OneBit|GreyScale|Grey16|RGB|Float|Complex] <strong>from_numpy</strong> (object <em>array</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit|GreyScale|Grey16|RGB|Float|Complex]</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">ExternalLibraries/Numpy</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">numpy_io.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Robert Butz based on code by Alex Cobb</td>
</tr>
</tbody>
</table>
<p>Instantiates a Gamera image from a Numeric multi-dimensional
array <em>array</em>.</p>
<p>The array must be one of the following types and will map to
the corresponding Gamera image type:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Gamera
type</th>
<th class="head">Numpy
type</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>RGB</td>
<td>uint8 (on 3
planes)</td>
</tr>
<tr><td>GREYSCALE</td>
<td>uint8</td>
</tr>
<tr><td>GREY16</td>
<td>uint32</td>
</tr>
<tr><td>ONEBIT</td>
<td>uint16</td>
</tr>
<tr><td>FLOAT</td>
<td>float64</td>
</tr>
<tr><td>COMPLEX</td>
<td>complex128</td>
</tr>
</tbody>
</table>
<p>Requires two copying operations;  may fail for very large images.</p>
<p>To use this function, which is not a method on images, do the
following:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gamera.plugins</span> <span class="kn">import</span> <span class="n">numpy_io</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">numpy_io</span><span class="o">.</span><span class="n">from_numpy</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="to-numpy">
<h2><a class="toc-backref" href="#toc-entry-3"><tt class="docutils literal">to_numpy</tt></a></h2>
<p>object <strong>to_numpy</strong> ()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit|GreyScale|Grey16|RGB|Float|Complex]</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">object</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">ExternalLibraries/Numpy</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">numpy_io.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Robert Butz based on code by Alex Cobb</td>
</tr>
</tbody>
</table>
<p>Returns an <tt class="docutils literal">Numeric</tt> array containing a copy of the image's data.</p>
<p>The array will be one of the following types corresponding to
each of the Gamera image types:</p>
<table border="1" class="docutils">
<colgroup>
<col width="41%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Gamera
type</th>
<th class="head">Numeric
type</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>RGB</td>
<td>uint8 (on 3
planes)</td>
</tr>
<tr><td>GREYSCALE</td>
<td>uint8</td>
</tr>
<tr><td>GREY16</td>
<td>uint32</td>
</tr>
<tr><td>ONEBIT</td>
<td>uint16</td>
</tr>
<tr><td>FLOAT</td>
<td>float64</td>
</tr>
<tr><td>COMPLEX</td>
<td>complex128</td>
</tr>
</tbody>
</table>
<p>Requires <em>three</em> copies, and may fail for very large images.</p>
<p>This method can be used for utilizing special functions present in
numpy. If you need to compute the discrete fourier transform of
an image, you can use numpy, as in the following  example:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gamera.plugins</span> <span class="kn">import</span> <span class="n">numpy_io</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">fft</span>
<span class="n">nparr</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="n">fourarr</span> <span class="o">=</span> <span class="n">fft</span><span class="o">.</span><span class="n">fft2</span><span class="p">(</span><span class="n">nparr</span><span class="p">)</span>
<span class="n">fourimage</span> <span class="o">=</span> <span class="n">numpy_io</span><span class="o">.</span><span class="n">from_numpy</span><span class="p">(</span><span class="n">fourarr</span><span class="p">)</span>
</pre></div>
<hr class="docutils" />
<p><strong>Example 1:</strong> to_numpy</p>
<p><img alt="to_numpy_plugin_00_00" src="images/to_numpy_plugin_00_00.png" style="width: 227px; height: 129px;" /> <img alt="to_numpy_plugin_00_01" src="images/to_numpy_plugin_00_01.png" style="width: 227px; height: 129px;" /></p>
<p><strong>Example 2:</strong> to_numpy</p>
<p><img alt="to_numpy_plugin_01_00" src="images/to_numpy_plugin_01_00.png" style="width: 96px; height: 67px;" /> <img alt="to_numpy_plugin_01_01" src="images/to_numpy_plugin_01_01.png" style="width: 96px; height: 67px;" /></p>
<p><strong>Example 3:</strong> to_numpy</p>
<p><img alt="to_numpy_plugin_02_00" src="images/to_numpy_plugin_02_00.png" style="width: 69px; height: 99px;" /> <img alt="to_numpy_plugin_02_01" src="images/to_numpy_plugin_02_01.png" style="width: 69px; height: 99px;" /></p>
<p><strong>Example 4:</strong> to_numpy</p>
<p><img alt="to_numpy_plugin_03_00" src="images/to_numpy_plugin_03_00.png" style="width: 96px; height: 67px;" /> <img alt="to_numpy_plugin_03_01" src="images/to_numpy_plugin_03_01.png" style="width: 96px; height: 67px;" /></p>
<p><strong>Example 5:</strong> to_numpy</p>
<p><img alt="to_numpy_plugin_04_00" src="images/to_numpy_plugin_04_00.png" style="width: 96px; height: 67px;" /> <img alt="to_numpy_plugin_04_01" src="images/to_numpy_plugin_04_01.png" style="width: 96px; height: 67px;" /></p>
</div>
</div>
<div class="section" id="pil">
<h1><a class="toc-backref" href="#toc-entry-4">PIL</a></h1>
<div class="section" id="from-pil">
<h2><a class="toc-backref" href="#toc-entry-5"><tt class="docutils literal">from_pil</tt></a></h2>
<p><tt class="docutils literal">Image</tt> [GreyScale|RGB|Float] <strong>from_pil</strong> (object <em>image</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal">Image</tt> [GreyScale|RGB|Float]</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">ExternalLibraries/PIL</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">pil_io.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Alex Cobb</td>
</tr>
</tbody>
</table>
<p>Instantiates a Gamera image from a Python Imaging Library
image <em>image</em>.</p>
<p>Only RGB or 8-bit greyscale mode PIL images are supported.
Requires a copying operation;  may fail for very large images.</p>
<p>This can, e.g., be used to read images from file formats not
directly supported by gamera, as JPEG images:</p>
<div class="highlight"><pre><span></span><span class="c1"># Beware: name &quot;Image&quot; is already used in Gamera!</span>
<span class="kn">import</span> <span class="nn">Image</span> <span class="k">as</span> <span class="nn">Pil</span>
<span class="kn">from</span> <span class="nn">pil_io</span> <span class="kn">import</span>

<span class="c1"># read a JPEG image and convert it to a Gamera image</span>
<span class="n">pilimg</span> <span class="o">=</span> <span class="n">Pil</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;image.jpg&quot;</span><span class="p">)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">from_pil</span><span class="p">(</span><span class="n">pilimg</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="to-pil">
<h2><a class="toc-backref" href="#toc-entry-6"><tt class="docutils literal">to_pil</tt></a></h2>
<p>object <strong>to_pil</strong> ()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [RGB|GreyScale]</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">object</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">ExternalLibraries/PIL</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">pil_io.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Alex Cobb</td>
</tr>
</tbody>
</table>
<p>Returns a Python Imaging Library image containing a copy of
image's data.</p>
<p>Only RGB and Greyscale images are supported.
May fail for very large images.</p>
<hr class="docutils" />
<p><strong>Example 1:</strong> to_pil</p>
<p><img alt="to_pil_plugin_00_00" src="images/to_pil_plugin_00_00.png" style="width: 227px; height: 129px;" /> <img alt="to_pil_plugin_00_01" src="images/to_pil_plugin_00_01.png" style="width: 227px; height: 129px;" /></p>
<p><strong>Example 2:</strong> to_pil</p>
<p><img alt="to_pil_plugin_01_00" src="images/to_pil_plugin_01_00.png" style="width: 96px; height: 67px;" /> <img alt="to_pil_plugin_01_01" src="images/to_pil_plugin_01_01.png" style="width: 96px; height: 67px;" /></p>
</div>
</div>
<div class="section" id="from-raw-string">
<h1><a class="toc-backref" href="#toc-entry-7"><tt class="docutils literal">_from_raw_string</tt></a></h1>
<p><tt class="docutils literal">Image</tt> [OneBit|GreyScale|Grey16|RGB|Float|Complex] <strong>_from_raw_string</strong> (<tt class="docutils literal">Point</tt> <em>offset</em>, <tt class="docutils literal">Dim</tt> <em>dim</em>, int <em>pixel_type</em>, int <em>storage_type</em>, object <em>data_string</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit|GreyScale|Grey16|RGB|Float|Complex]</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">ExternalLibraries</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">string_io.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Alex Cobb</td>
</tr>
</tbody>
</table>
<p>Instantiates an image from binary data in a Python string.</p>
<p>Requires a copying operation;  may fail for very large images.</p>
<p>This function is not intended to be used directly.  To move data
to/from Numeric/numarray/PIL, use the functions in numeric_io.py,
numarray_io.py and pil_io.py respectively.</p>
</div>
<div class="section" id="to-raw-string">
<h1><a class="toc-backref" href="#toc-entry-8"><tt class="docutils literal">_to_raw_string</tt></a></h1>
<p>object <strong>_to_raw_string</strong> ()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit|GreyScale|Grey16|RGB|Float|Complex]</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">object</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">ExternalLibraries</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">string_io.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Alex Cobb</td>
</tr>
</tbody>
</table>
<p>Returns the image's binary data as a Python string.</p>
<p>Requires a copying operation;  may fail for very large images.</p>
<p>This function is not intended to be used directly.  To move data
to/from Numeric/numarray/PIL, use the functions in numeric_io.py,
numarray_io.py and pil_io.py respectively.</p>
</div>
<div class="section" id="cv">
<h1><a class="toc-backref" href="#toc-entry-9">cv</a></h1>
<div class="section" id="from-cv">
<h2><a class="toc-backref" href="#toc-entry-10"><tt class="docutils literal">from_cv</tt></a></h2>
<p><tt class="docutils literal">Image</tt> [GreyScale|RGB|Float] <strong>from_cv</strong> (object <em>image</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal">Image</tt> [GreyScale|RGB|Float]</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">ExternalLibraries/cv</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">cv_io.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Manuel Jeltsch</td>
</tr>
</tbody>
</table>
<p>Instantiates a Gamera RGB image from an OpenCV
cv.cvmat or cv.iplimage. May fail for very large images.</p>
<p>Usage example:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gamera.plugins</span> <span class="kn">import</span> <span class="n">cv_io</span>

<span class="c1"># read a JPEG image and convert it to a Gamera image</span>
<span class="n">cvImg</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">LoadImage</span><span class="p">(</span><span class="s2">&quot;foo.jpg&quot;</span><span class="p">)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv_io</span><span class="o">.</span><span class="n">from_cv</span><span class="p">(</span><span class="n">cvImg</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="to-cv">
<h2><a class="toc-backref" href="#toc-entry-11"><tt class="docutils literal">to_cv</tt></a></h2>
<p>object <strong>to_cv</strong> ()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [RGB|GreyScale|OneBit]</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">object</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">ExternalLibraries/cv</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">cv_io.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Manuel Jeltsch</td>
</tr>
</tbody>
</table>
<p>Returns an OpenCv image (cv.cvmat) containing a copy of
image's data.</p>
<p>Only RGB, Greyscale and Onebit images are supported.
May fail for very large images.</p>
</div>
</div>
<div class="section" id="to-buffer">
<h1><a class="toc-backref" href="#toc-entry-12"><tt class="docutils literal">to_buffer</tt></a></h1>
<p><strong>to_buffer</strong> (object <em>Buffer</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit|GreyScale|Grey16|RGB|Float|Complex]</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">ExternalLibraries</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">gui_support.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Michael Droettboom and Karl MacMillan</td>
</tr>
</tbody>
</table>
<p>Encodes the image into a 'buffer' required by wx.Image.
(i.e. 8-bit RGB triplets). If you need to convert a gamera image
<em>scaled_image</em> to a wx.Bitmap, you can do so as follows:</p>
<div class="highlight"><pre><span></span><span class="n">wximg</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">EmptyImage</span><span class="p">(</span><span class="n">scaled_image</span><span class="o">.</span><span class="n">ncols</span><span class="p">,</span> <span class="n">scaled_image</span><span class="o">.</span><span class="n">nrows</span><span class="p">)</span>
<span class="n">scaled_image</span><span class="o">.</span><span class="n">to_buffer</span><span class="p">(</span><span class="n">wximg</span><span class="o">.</span><span class="n">GetDataBuffer</span><span class="p">())</span>
<span class="n">wxbmp</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BitmapFromImage</span><span class="p">(</span><span class="n">wximg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="footer">
<hr class="footer" />
<span class="raw-html"><div style="text-align:right;">For contact information, see <a href="http://gamera.informatik.hsnr.de/contact.html">http://gamera.informatik.hsnr.de/contact.html</a></div></span>
</div>
</body>
</html>
