<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.20.1: https://docutils.sourceforge.io/" />
<title>Runlength</title>
<link rel="stylesheet" href="default.css" type="text/css" />
</head>
<body>
<div class="document" id="runlength">
<h1 class="title">Runlength</h1>

<p><strong>Last modified</strong>: July 11, 2023</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#filter-narrow-runs" id="toc-entry-1"><tt class="docutils literal">filter_narrow_runs</tt></a></li>
<li><a class="reference internal" href="#filter-short-runs" id="toc-entry-2"><tt class="docutils literal">filter_short_runs</tt></a></li>
<li><a class="reference internal" href="#filter-tall-runs" id="toc-entry-3"><tt class="docutils literal">filter_tall_runs</tt></a></li>
<li><a class="reference internal" href="#filter-wide-runs" id="toc-entry-4"><tt class="docutils literal">filter_wide_runs</tt></a></li>
<li><a class="reference internal" href="#from-rle" id="toc-entry-5"><tt class="docutils literal">from_rle</tt></a></li>
<li><a class="reference internal" href="#iterate-runs" id="toc-entry-6"><tt class="docutils literal">iterate_runs</tt></a></li>
<li><a class="reference internal" href="#most-frequent-run" id="toc-entry-7"><tt class="docutils literal">most_frequent_run</tt></a></li>
<li><a class="reference internal" href="#most-frequent-runs" id="toc-entry-8"><tt class="docutils literal">most_frequent_runs</tt></a></li>
<li><a class="reference internal" href="#run-histogram" id="toc-entry-9"><tt class="docutils literal">run_histogram</tt></a></li>
<li><a class="reference internal" href="#runlength-from-point" id="toc-entry-10"><tt class="docutils literal">runlength_from_point</tt></a></li>
<li><a class="reference internal" href="#to-rle" id="toc-entry-11"><tt class="docutils literal">to_rle</tt></a></li>
</ul>
</div>
<div class="section" id="filter-narrow-runs">
<h1><a class="toc-backref" href="#toc-entry-1"><tt class="docutils literal">filter_narrow_runs</tt></a></h1>
<p><strong>filter_narrow_runs</strong> (int <em>length</em>, <tt class="docutils literal">ChoiceString(strict)</tt> [black|white] <em>color</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit]</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">Runlength</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">runlength.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Michael Droettboom and Karl MacMillan</td>
</tr>
</tbody>
</table>
<p>Removes horizontal runs in the given <em>color</em> narrower than a given
<em>length</em>.</p>
<hr class="docutils" />
<p><strong>Example 1:</strong> filter_narrow_runs(3, &quot;black&quot;)</p>
<img alt="images/OneBit_generic.png" src="images/OneBit_generic.png" style="width: 69px; height: 99px;" />
<img alt="images/filter_narrow_runs_plugin_00.png" src="images/filter_narrow_runs_plugin_00.png" style="width: 69px; height: 99px;" />
</div>
<div class="section" id="filter-short-runs">
<h1><a class="toc-backref" href="#toc-entry-2"><tt class="docutils literal">filter_short_runs</tt></a></h1>
<p><strong>filter_short_runs</strong> (int <em>length</em>, <tt class="docutils literal">ChoiceString(strict)</tt> [black|white] <em>color</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit]</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">Runlength</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">runlength.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Michael Droettboom and Karl MacMillan</td>
</tr>
</tbody>
</table>
<p>Removes vertical runs in the given <em>color</em> shorter than a given
<em>length</em>.</p>
<hr class="docutils" />
<p><strong>Example 1:</strong> filter_short_runs(3, &quot;black&quot;)</p>
<img alt="images/OneBit_generic.png" src="images/OneBit_generic.png" style="width: 69px; height: 99px;" />
<img alt="images/filter_short_runs_plugin_00.png" src="images/filter_short_runs_plugin_00.png" style="width: 69px; height: 99px;" />
</div>
<div class="section" id="filter-tall-runs">
<h1><a class="toc-backref" href="#toc-entry-3"><tt class="docutils literal">filter_tall_runs</tt></a></h1>
<p><strong>filter_tall_runs</strong> (int <em>length</em>, <tt class="docutils literal">ChoiceString(strict)</tt> [black|white] <em>color</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit]</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">Runlength</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">runlength.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Michael Droettboom and Karl MacMillan</td>
</tr>
</tbody>
</table>
<p>Removes vertical runs in the given <em>color</em> taller than a given
<em>length</em>.</p>
<hr class="docutils" />
<p><strong>Example 1:</strong> filter_tall_runs(3, &quot;black&quot;)</p>
<img alt="images/OneBit_generic.png" src="images/OneBit_generic.png" style="width: 69px; height: 99px;" />
<img alt="images/filter_tall_runs_plugin_00.png" src="images/filter_tall_runs_plugin_00.png" style="width: 69px; height: 99px;" />
</div>
<div class="section" id="filter-wide-runs">
<h1><a class="toc-backref" href="#toc-entry-4"><tt class="docutils literal">filter_wide_runs</tt></a></h1>
<p><strong>filter_wide_runs</strong> (int <em>length</em>, <tt class="docutils literal">ChoiceString(strict)</tt> [black|white] <em>color</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit]</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">Runlength</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">runlength.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Michael Droettboom and Karl MacMillan</td>
</tr>
</tbody>
</table>
<p>Removes horizontal runs in the given <em>color</em> wider than a given
<em>length</em>.</p>
<hr class="docutils" />
<p><strong>Example 1:</strong> filter_wide_runs(3, &quot;black&quot;)</p>
<img alt="images/OneBit_generic.png" src="images/OneBit_generic.png" style="width: 69px; height: 99px;" />
<img alt="images/filter_wide_runs_plugin_00.png" src="images/filter_wide_runs_plugin_00.png" style="width: 69px; height: 99px;" />
</div>
<div class="section" id="from-rle">
<h1><a class="toc-backref" href="#toc-entry-5"><tt class="docutils literal">from_rle</tt></a></h1>
<p><strong>from_rle</strong> (str <em>runs</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit]</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">Runlength</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">runlength.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Michael Droettboom and Karl MacMillan</td>
</tr>
</tbody>
</table>
<p>Decodes a string-based run-length encoded version of the image.</p>
<p>The numbers alternate between &quot;length of black run&quot; and &quot;length of
white run&quot;.  Runs go left-to-right, top-to-bottom.  Runs rollover
the right hand edge and continue on the left edge of the next run.</p>
<p>To encode an RLE string, use <a class="reference internal" href="#to-rle">to_rle</a>.</p>
</div>
<div class="section" id="iterate-runs">
<h1><a class="toc-backref" href="#toc-entry-6"><tt class="docutils literal">iterate_runs</tt></a></h1>
<p>object <strong>iterate_runs</strong> (<tt class="docutils literal">ChoiceString(strict)</tt> [black|white] <em>color</em>, <tt class="docutils literal">ChoiceString(strict)</tt> [horizontal|vertical] <em>direction</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit]</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">object</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">Runlength</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">runlength.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Michael Droettboom and Karl MacMillan</td>
</tr>
</tbody>
</table>
<p>Returns nested iterators over the runs in the given <em>color</em> and
<em>direction</em>.</p>
<p>Each run is returned as a Rect object.</p>
<p>For example, to iterate over all runs:</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">image</span><span class="o">.</span><span class="n">iterate_black_horizontal_runs</span><span class="p">():</span>
<span class="c1"># All the runs in each row</span>
<span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
    <span class="nb">print</span> <span class="n">run</span>
</pre></div>
</div>
<div class="section" id="most-frequent-run">
<h1><a class="toc-backref" href="#toc-entry-7"><tt class="docutils literal">most_frequent_run</tt></a></h1>
<p>int <strong>most_frequent_run</strong> (<tt class="docutils literal">ChoiceString(strict)</tt> [black|white] <em>color</em>, <tt class="docutils literal">ChoiceString(strict)</tt> [horizontal|vertical] <em>direction</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit]</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">int</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">Runlength</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">runlength.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Michael Droettboom and Karl MacMillan</td>
</tr>
</tbody>
</table>
<p>Returns the length of the most frequently occurring run of pixels
in the given color and given direction.</p>
<hr class="docutils" />
<p><strong>Example 1:</strong> most_frequent_run(&quot;black&quot;, &quot;horizontal&quot;)</p>
<img alt="images/OneBit_generic.png" src="images/OneBit_generic.png" style="width: 69px; height: 99px;" />
<p><em>result</em> = 9</p>
</div>
<div class="section" id="most-frequent-runs">
<h1><a class="toc-backref" href="#toc-entry-8"><tt class="docutils literal">most_frequent_runs</tt></a></h1>
<p>object <strong>most_frequent_runs</strong> (int <em>n</em>, <tt class="docutils literal">ChoiceString(strict)</tt> [black|white] <em>color</em>, <tt class="docutils literal">ChoiceString(strict)</tt> [horizontal|vertical] <em>direction</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit]</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">object</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">Runlength</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">runlength.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Michael Droettboom, after an idea by Christoph Dalitz</td>
</tr>
</tbody>
</table>
<p>Returns the lengths of the <em>n</em> most frequently occurring runs in
the given <em>color</em> and <em>direction</em>.</p>
<dl class="docutils">
<dt><em>n</em></dt>
<dd>The number of runlengths to return.  If <em>n</em> &lt; 0, all runlengths
will be returned.</dd>
</dl>
<p>The return value is a list of 2-tuples.  The first element in the
tuple is the run length, and the second element is its frequency.
The list is sorted by descending frequency.</p>
<hr class="docutils" />
<p><strong>Example 1:</strong> most_frequent_runs(5, &quot;black&quot;, &quot;horizontal&quot;)</p>
<img alt="images/OneBit_generic.png" src="images/OneBit_generic.png" style="width: 69px; height: 99px;" />
<p><em>result</em> = [(9, 32), (7, 22), (8, 22), (5, 19), (4, 15)]</p>
</div>
<div class="section" id="run-histogram">
<h1><a class="toc-backref" href="#toc-entry-9"><tt class="docutils literal">run_histogram</tt></a></h1>
<p><tt class="docutils literal">IntVector</tt> <strong>run_histogram</strong> (<tt class="docutils literal">ChoiceString(strict)</tt> [black|white] <em>color</em>, <tt class="docutils literal">ChoiceString(strict)</tt> [horizontal|vertical] <em>direction</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit]</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><tt class="docutils literal">IntVector</tt></td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">Runlength</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">runlength.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Michael Droettboom and Karl MacMillan</td>
</tr>
</tbody>
</table>
<p>Returns the histogram of runlengths in the given <em>color</em> and
<em>direction</em>.</p>
<dl class="docutils">
<dt><em>return_value</em></dt>
<dd>The return value is an integer array.  Each index in the array
corresponds to a particular run length, and the value at that
index is the number of times that that run length occurs in the
image.</dd>
</dl>
<hr class="docutils" />
<p><strong>Example 1:</strong> run_histogram(&quot;black&quot;, &quot;horizontal&quot;)</p>
<img alt="images/OneBit_generic.png" src="images/OneBit_generic.png" style="width: 69px; height: 99px;" />
<p><em>result</em> = array('i', [0, 11, 10, 6, 15, 19, 10, 22, 22, 32, 9, 14, 5, 3, 2, 2, 1, 1, 0, 2, 0, 2, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])</p>
</div>
<div class="section" id="runlength-from-point">
<h1><a class="toc-backref" href="#toc-entry-10"><tt class="docutils literal">runlength_from_point</tt></a></h1>
<p>int <strong>runlength_from_point</strong> (<tt class="docutils literal">FloatPoint</tt> <em>point</em>, <tt class="docutils literal">ChoiceString(strict)</tt> [black|white] <em>color</em>, <tt class="docutils literal">ChoiceString(strict)</tt> [top|bottom|left|right] <em>direction</em>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit]</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">int</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">Runlength</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">runlength.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Fabian Schmitt and Christoph Dalitz</td>
</tr>
</tbody>
</table>
<p>Returns the runlength of <em>color</em> in the direction <em>direction</em> starting
from one pixel after <em>point</em>.</p>
</div>
<div class="section" id="to-rle">
<h1><a class="toc-backref" href="#toc-entry-11"><tt class="docutils literal">to_rle</tt></a></h1>
<p>str <strong>to_rle</strong> ()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Operates on:</th><td class="field-body"><tt class="docutils literal">Image</tt> [OneBit]</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">str</td>
</tr>
<tr class="field"><th class="field-name">Category:</th><td class="field-body">Runlength</td>
</tr>
<tr class="field"><th class="field-name">Defined in:</th><td class="field-body">runlength.py</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Michael Droettboom and Karl MacMillan</td>
</tr>
</tbody>
</table>
<p>Encodes a string-based run-length encoded version of the image.</p>
<p>The numbers alternate between &quot;length of black run&quot; and &quot;length of
white run&quot;.  Runs go left-to-right, top-to-bottom.  Runs rollover
the right hand edge and continue on the left edge of the next run.</p>
<p>To decode an RLE string, use <a class="reference internal" href="#from-rle">from_rle</a>.</p>
<hr class="docutils" />
<p><strong>Example 1:</strong> to_rle()</p>
<img alt="images/OneBit_generic.png" src="images/OneBit_generic.png" style="width: 69px; height: 99px;" />
<p><em>result</em> = '42 12 56 17 53 19 61 10 63 9 63 8 64 7 64 7 64 7 64 7 64 7 63 7 64 6 64 7 64 6 65 6 64 6 63 7 63 7 65 5 65 4 66 5 65 5 65 5 64 5 65 5 53 2 10 4 52 4 9 4 52 4 9 5 51 4 9 5 30 5 15 7 7 5 28 8 14 9 5 6 27 7 14 12 2 6 26 8 14 19 28 7 14 5 2 13 28 7 14 6 2 11 29 7 13 8 2 9 30 7 13 9 5 4 31 8 12 10 39 8 11 12 39 7 11 13 38 7 10 5 1 9 10 1 26 7 10 4 3 9 10 2 24 8 8 5 4 9 9 3 24 7 8 4 6 9 10 1 24 8 8 3 7 9 35 7 20 8 34 8 20 8 34 8 19 9 33 9 19 9 33 8 20 9 33 8 20 9 33 8 21 8 32 9 20 9 32 9 20 9 10 1 19 11 20 9 9 2 20 10 20 9 9 2 21 9 20 9 9 2 21 9 20 9 9 2 21 9 20 9 9 2 21 10 19 9 9 1 22 10 19 9 9 1 22 10 19 9 9 1 22 11 18 9 9 1 23 10 18 9 9 1 23 10 18 9 33 10 18 8 34 11 17 8 35 11 16 8 35 11 16 8 35 11 16 8 36 11 15 7 37 11 15 5 33 2 5 11 14 3 33 3 6 12 12 3 33 3 8 11 10 4 17 1 16 2 10 12 6 5 17 5 13 1 11 13 4 4 18 5 27 14 1 4 18 6 29 15 17 8 31 16 10 11 34 35 36 33 39 29 43 25 47 21 52 15 62 4 329 4 36 2 30 4 31 5 32 6 25 5 35 6 21 7 39 11 6 11 46 21 52 14 66 1 27 0 '</p>
</div>
</div>
<div class="footer">
<hr class="footer" />
<span class="raw-html"><div style="text-align:right;">For contact information, see <a href="http://gamera.informatik.hsnr.de/contact.html">http://gamera.informatik.hsnr.de/contact.html</a></div></span>
</div>
</body>
</html>
